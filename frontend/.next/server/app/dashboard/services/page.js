(()=>{var e={};e.id=382,e.ids=[382],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4089:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>l}),s(357),s(2029),s(5866);var t=s(3191),i=s(8716),n=s(7922),a=s.n(n),c=s(5231),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);s.d(r,o);let l=["",{children:["dashboard",{children:["services",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,357)),"/Users/mouss/Desktop/new/frontend/src/app/dashboard/services/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/Users/mouss/Desktop/new/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mouss/Desktop/new/frontend/src/app/dashboard/services/page.tsx"],u="/dashboard/services/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/services/page",pathname:"/dashboard/services",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1140:(e,r,s)=>{Promise.resolve().then(s.bind(s,6810))},6810:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>v});var t=s(326),i=s(7577),n=s(5297),a=s(1664),c=s(9752),o=s(3819),l=s(4118),d=s(1190),u=s(4794),x=s(8443),p=s(3855),m=s(7546),h=s(4389),g=s(8069);function v(){let[e,r]=(0,i.useState)([]),[s,v]=(0,i.useState)(!0),[j,f]=(0,i.useState)(!1),[b,y]=(0,i.useState)(null),[P,N]=(0,i.useState)({name:"",description:"",billingType:"FORFAIT",unitPrice:"",minDuration:"",isActive:!0}),A=()=>{g.Z.get("/services").then(e=>{r(e.data)}).finally(()=>v(!1))},q=e=>{e?(y(e),N({name:e.name,description:e.description||"",billingType:e.billingType,unitPrice:e.unitPrice,minDuration:e.minDuration||"",isActive:e.isActive})):(y(null),N({name:"",description:"",billingType:"FORFAIT",unitPrice:"",minDuration:"",isActive:!0})),f(!0)},_=async e=>{e.preventDefault();try{let e={...P,unitPrice:parseInt(P.unitPrice),minDuration:P.minDuration?parseInt(P.minDuration):null};b?await g.Z.put(`/services/${b.id}`,e):await g.Z.post("/services",e),A(),f(!1)}catch(e){alert(e.response?.data?.message||"Erreur lors de l'enregistrement")}},w=e=>({PAR_MINUTE:"Par minute",PAR_HEURE:"Par heure",FORFAIT:"Forfait"})[e]||e;return s?t.jsx(n.Z,{children:t.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement..."})}):(0,t.jsxs)(n.Z,{children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Services"}),(0,t.jsxs)("p",{className:"text-muted-foreground mt-1",children:[e.length," services au total"]})]}),(0,t.jsxs)(a.z,{onClick:()=>q(),className:"w-full sm:w-auto",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Ajouter un service"]})]}),t.jsx(c.Zb,{children:(0,t.jsxs)(o.iA,{children:[t.jsx(o.xD,{children:(0,t.jsxs)(o.SC,{children:[t.jsx(o.ss,{children:"Nom"}),t.jsx(o.ss,{children:"Type de facturation"}),t.jsx(o.ss,{children:"Prix unitaire"}),t.jsx(o.ss,{children:"Dur\xe9e min."}),t.jsx(o.ss,{children:"Statut"}),t.jsx(o.ss,{className:"text-right",children:"Actions"})]})}),t.jsx(o.RM,{children:0===e.length?t.jsx(o.SC,{children:(0,t.jsxs)(o.pj,{colSpan:6,className:"text-center py-8",children:[t.jsx(m.Z,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-2"}),t.jsx("p",{className:"text-muted-foreground",children:"Aucun service"})]})}):e.map(e=>(0,t.jsxs)(o.SC,{children:[t.jsx(o.pj,{className:"font-medium",children:e.name}),t.jsx(o.pj,{children:t.jsx(x.C,{variant:"outline",children:w(e.billingType)})}),(0,t.jsxs)(o.pj,{children:[e.unitPrice," FCFA"]}),t.jsx(o.pj,{className:"text-muted-foreground",children:e.minDuration?`${e.minDuration} min`:"-"}),t.jsx(o.pj,{children:e.isActive?t.jsx(x.C,{variant:"success",children:"Actif"}):t.jsx(x.C,{variant:"destructive",children:"Inactif"})}),t.jsx(o.pj,{className:"text-right",children:t.jsx(a.z,{variant:"ghost",size:"sm",onClick:()=>q(e),children:t.jsx(h.Z,{className:"h-4 w-4"})})})]},e.id))})]})})]}),t.jsx(l.Vq,{open:j,onOpenChange:f,children:(0,t.jsxs)(l.cZ,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(l.fK,{children:[t.jsx(l.$N,{children:b?"Modifier le service":"Nouveau service"}),t.jsx(l.Be,{children:b?"Modifiez les informations du service":"Ajoutez un nouveau service"})]}),(0,t.jsxs)("form",{onSubmit:_,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"name",children:"Nom du service"}),t.jsx(d.I,{id:"name",value:P.name,onChange:e=>N({...P,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"description",children:"Description"}),t.jsx(d.I,{id:"description",value:P.description,onChange:e=>N({...P,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"billingType",children:"Type de facturation"}),(0,t.jsxs)("select",{id:"billingType",value:P.billingType,onChange:e=>N({...P,billingType:e.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",required:!0,children:[t.jsx("option",{value:"FORFAIT",children:"Forfait"}),t.jsx("option",{value:"PAR_HEURE",children:"Par heure"}),t.jsx("option",{value:"PAR_MINUTE",children:"Par minute"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"unitPrice",children:"Prix unitaire (FCFA)"}),t.jsx(d.I,{id:"unitPrice",type:"number",step:"1",value:P.unitPrice,onChange:e=>N({...P,unitPrice:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"minDuration",children:"Dur\xe9e min. (min)"}),t.jsx(d.I,{id:"minDuration",type:"number",value:P.minDuration,onChange:e=>N({...P,minDuration:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{id:"isActive",type:"checkbox",checked:P.isActive,onChange:e=>N({...P,isActive:e.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),t.jsx(u._,{htmlFor:"isActive",className:"font-normal",children:"Service actif"})]})]}),(0,t.jsxs)(l.cN,{children:[t.jsx(a.z,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Annuler"}),t.jsx(a.z,{type:"submit",children:b?"Modifier":"Cr\xe9er"})]})]})]})})]})}},8443:(e,r,s)=>{"use strict";s.d(r,{C:()=>c});var t=s(326);s(7577);var i=s(9360),n=s(1223);let a=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800"}},defaultVariants:{variant:"default"}});function c({className:e,variant:r,...s}){return t.jsx("div",{className:(0,n.cn)(a({variant:r}),e),...s})}},357:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>a,__esModule:()=>n,default:()=>c});var t=s(8570);let i=(0,t.createProxy)(String.raw`/Users/mouss/Desktop/new/frontend/src/app/dashboard/services/page.tsx`),{__esModule:n,$$typeof:a}=i;i.default;let c=(0,t.createProxy)(String.raw`/Users/mouss/Desktop/new/frontend/src/app/dashboard/services/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[819,284,530,806,428],()=>s(4089));module.exports=t})();