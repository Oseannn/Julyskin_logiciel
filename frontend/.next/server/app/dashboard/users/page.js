(()=>{var e={};e.id=618,e.ids=[618],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1600:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(9370),r(2029),r(5866);var t=r(3191),a=r(8716),i=r(7922),n=r.n(i),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(s,o);let d=["",{children:["dashboard",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9370)),"/Users/mouss/Desktop/new/frontend/src/app/dashboard/users/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/mouss/Desktop/new/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mouss/Desktop/new/frontend/src/app/dashboard/users/page.tsx"],u="/dashboard/users/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/users/page",pathname:"/dashboard/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7946:(e,s,r)=>{Promise.resolve().then(r.bind(r,1765))},1765:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var t=r(326),a=r(7577),i=r(5297),n=r(1664),l=r(9752),o=r(3819),d=r(4118),c=r(1190),u=r(4794),x=r(8443),p=r(3855),m=r(8798),h=r(4389),g=r(8069);function j(){let[e,s]=(0,a.useState)([]),[r,j]=(0,a.useState)(!0),[f,v]=(0,a.useState)(!1),[N,b]=(0,a.useState)(null),[w,y]=(0,a.useState)({email:"",password:"",firstName:"",lastName:"",role:"VENDEUSE",isActive:!0}),q=()=>{g.Z.get("/users").then(e=>{s(e.data)}).finally(()=>j(!1))},A=e=>{e?(b(e),y({email:e.email,password:"",firstName:e.firstName,lastName:e.lastName,role:e.role,isActive:e.isActive})):(b(null),y({email:"",password:"",firstName:"",lastName:"",role:"VENDEUSE",isActive:!0})),v(!0)},_=async e=>{e.preventDefault();try{let e={email:w.email,firstName:w.firstName,lastName:w.lastName,role:w.role,isActive:w.isActive};if(w.password&&(e.password=w.password),N)await g.Z.put(`/users/${N.id}`,e);else{if(!w.password){alert("Le mot de passe est requis pour un nouvel utilisateur");return}e.password=w.password,await g.Z.post("/users",e)}q(),v(!1)}catch(e){alert(e.response?.data?.message||"Erreur lors de l'enregistrement")}};return r?t.jsx(i.Z,{children:t.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement..."})}):(0,t.jsxs)(i.Z,{children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Utilisateurs"}),(0,t.jsxs)("p",{className:"text-muted-foreground mt-1",children:[e.length," utilisateurs au total"]})]}),(0,t.jsxs)(n.z,{onClick:()=>A(),className:"w-full sm:w-auto",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Ajouter un utilisateur"]})]}),t.jsx(l.Zb,{children:(0,t.jsxs)(o.iA,{children:[t.jsx(o.xD,{children:(0,t.jsxs)(o.SC,{children:[t.jsx(o.ss,{children:"Nom"}),t.jsx(o.ss,{children:"Pr\xe9nom"}),t.jsx(o.ss,{children:"Email"}),t.jsx(o.ss,{children:"R\xf4le"}),t.jsx(o.ss,{children:"Statut"}),t.jsx(o.ss,{className:"text-right",children:"Actions"})]})}),t.jsx(o.RM,{children:0===e.length?t.jsx(o.SC,{children:(0,t.jsxs)(o.pj,{colSpan:6,className:"text-center py-8",children:[t.jsx(m.Z,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-2"}),t.jsx("p",{className:"text-muted-foreground",children:"Aucun utilisateur"})]})}):e.map(e=>(0,t.jsxs)(o.SC,{children:[t.jsx(o.pj,{className:"font-medium",children:e.lastName}),t.jsx(o.pj,{children:e.firstName}),t.jsx(o.pj,{className:"text-muted-foreground",children:e.email}),t.jsx(o.pj,{children:t.jsx(x.C,{variant:"ADMIN"===e.role?"default":"secondary",children:"ADMIN"===e.role?"Administrateur":"Vendeuse"})}),t.jsx(o.pj,{children:e.isActive?t.jsx(x.C,{variant:"success",children:"Actif"}):t.jsx(x.C,{variant:"destructive",children:"Inactif"})}),t.jsx(o.pj,{className:"text-right",children:t.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>A(e),children:t.jsx(h.Z,{className:"h-4 w-4"})})})]},e.id))})]})})]}),t.jsx(d.Vq,{open:f,onOpenChange:v,children:(0,t.jsxs)(d.cZ,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(d.fK,{children:[t.jsx(d.$N,{children:N?"Modifier l'utilisateur":"Nouvel utilisateur"}),t.jsx(d.Be,{children:N?"Modifiez les informations de l'utilisateur":"Ajoutez un nouvel utilisateur"})]}),(0,t.jsxs)("form",{onSubmit:_,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"firstName",children:"Pr\xe9nom"}),t.jsx(c.I,{id:"firstName",value:w.firstName,onChange:e=>y({...w,firstName:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"lastName",children:"Nom"}),t.jsx(c.I,{id:"lastName",value:w.lastName,onChange:e=>y({...w,lastName:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"email",children:"Email"}),t.jsx(c.I,{id:"email",type:"email",value:w.email,onChange:e=>y({...w,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(u._,{htmlFor:"password",children:["Mot de passe ",N&&"(laisser vide pour ne pas changer)"]}),t.jsx(c.I,{id:"password",type:"password",value:w.password,onChange:e=>y({...w,password:e.target.value}),required:!N})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(u._,{htmlFor:"role",children:"R\xf4le"}),(0,t.jsxs)("select",{id:"role",value:w.role,onChange:e=>y({...w,role:e.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",required:!0,children:[t.jsx("option",{value:"VENDEUSE",children:"Vendeuse"}),t.jsx("option",{value:"ADMIN",children:"Administrateur"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{id:"isActive",type:"checkbox",checked:w.isActive,onChange:e=>y({...w,isActive:e.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),t.jsx(u._,{htmlFor:"isActive",className:"font-normal",children:"Utilisateur actif"})]})]}),(0,t.jsxs)(d.cN,{children:[t.jsx(n.z,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Annuler"}),t.jsx(n.z,{type:"submit",children:N?"Modifier":"Cr\xe9er"})]})]})]})})]})}},8443:(e,s,r)=>{"use strict";r.d(s,{C:()=>l});var t=r(326);r(7577);var a=r(9360),i=r(1223);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...r}){return t.jsx("div",{className:(0,i.cn)(n({variant:s}),e),...r})}},9370:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var t=r(8570);let a=(0,t.createProxy)(String.raw`/Users/mouss/Desktop/new/frontend/src/app/dashboard/users/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,t.createProxy)(String.raw`/Users/mouss/Desktop/new/frontend/src/app/dashboard/users/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[819,284,530,806,428],()=>r(1600));module.exports=t})();