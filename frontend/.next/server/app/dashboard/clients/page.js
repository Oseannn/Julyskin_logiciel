(()=>{var e={};e.id=198,e.ids=[198],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4456:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(4904),t(2029),t(5866);var r=t(3191),i=t(8716),a=t(7922),n=t.n(a),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["dashboard",{children:["clients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4904)),"/Users/mouss/Desktop/new/frontend/src/app/dashboard/clients/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/mouss/Desktop/new/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mouss/Desktop/new/frontend/src/app/dashboard/clients/page.tsx"],u="/dashboard/clients/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/clients/page",pathname:"/dashboard/clients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3507:(e,s,t)=>{Promise.resolve().then(t.bind(t,5022))},5022:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(326),i=t(7577),a=t(5297),n=t(1664),l=t(9752),o=t(3819),c=t(4118),d=t(1190),u=t(4794),x=t(3855),m=t(4061),p=t(4389),h=t(8069);function j(){let[e,s]=(0,i.useState)([]),[t,j]=(0,i.useState)(!0),[g,f]=(0,i.useState)(!1),[N,v]=(0,i.useState)(null),[q,b]=(0,i.useState)({firstName:"",lastName:"",phone:"",email:""}),y=()=>{h.Z.get("/clients").then(e=>{s(e.data)}).finally(()=>j(!1))},_=e=>{e?(v(e),b({firstName:e.firstName,lastName:e.lastName,phone:e.phone,email:e.email||""})):(v(null),b({firstName:"",lastName:"",phone:"",email:""})),f(!0)},w=async e=>{e.preventDefault();try{let e={...q,email:q.email||void 0};N?await h.Z.put(`/clients/${N.id}`,e):await h.Z.post("/clients",e),y(),f(!1)}catch(e){alert(e.response?.data?.message||"Erreur lors de l'enregistrement")}};return t?r.jsx(a.Z,{children:r.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement..."})}):(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Clients"}),(0,r.jsxs)("p",{className:"text-muted-foreground mt-1",children:[e.length," clients au total"]})]}),(0,r.jsxs)(n.z,{onClick:()=>_(),className:"w-full sm:w-auto",children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Ajouter un client"]})]}),r.jsx(l.Zb,{children:(0,r.jsxs)(o.iA,{children:[r.jsx(o.xD,{children:(0,r.jsxs)(o.SC,{children:[r.jsx(o.ss,{children:"Nom"}),r.jsx(o.ss,{children:"Pr\xe9nom"}),r.jsx(o.ss,{children:"T\xe9l\xe9phone"}),r.jsx(o.ss,{children:"Email"}),r.jsx(o.ss,{className:"text-right",children:"Actions"})]})}),r.jsx(o.RM,{children:0===e.length?r.jsx(o.SC,{children:(0,r.jsxs)(o.pj,{colSpan:5,className:"text-center py-8",children:[r.jsx(m.Z,{className:"mx-auto h-12 w-12 text-muted-foreground/50 mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"Aucun client"})]})}):e.map(e=>(0,r.jsxs)(o.SC,{children:[r.jsx(o.pj,{className:"font-medium",children:e.lastName}),r.jsx(o.pj,{children:e.firstName}),r.jsx(o.pj,{children:e.phone}),r.jsx(o.pj,{className:"text-muted-foreground",children:e.email||"-"}),r.jsx(o.pj,{className:"text-right",children:r.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>_(e),children:r.jsx(p.Z,{className:"h-4 w-4"})})})]},e.id))})]})})]}),r.jsx(c.Vq,{open:g,onOpenChange:f,children:(0,r.jsxs)(c.cZ,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(c.fK,{children:[r.jsx(c.$N,{children:N?"Modifier le client":"Nouveau client"}),r.jsx(c.Be,{children:N?"Modifiez les informations du client":"Ajoutez un nouveau client"})]}),(0,r.jsxs)("form",{onSubmit:w,children:[(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(u._,{htmlFor:"firstName",children:"Pr\xe9nom"}),r.jsx(d.I,{id:"firstName",value:q.firstName,onChange:e=>b({...q,firstName:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(u._,{htmlFor:"lastName",children:"Nom"}),r.jsx(d.I,{id:"lastName",value:q.lastName,onChange:e=>b({...q,lastName:e.target.value}),required:!0})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(u._,{htmlFor:"phone",children:"T\xe9l\xe9phone"}),r.jsx(d.I,{id:"phone",type:"tel",value:q.phone,onChange:e=>b({...q,phone:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(u._,{htmlFor:"email",children:"Email (optionnel)"}),r.jsx(d.I,{id:"email",type:"email",value:q.email,onChange:e=>b({...q,email:e.target.value})})]})]}),(0,r.jsxs)(c.cN,{children:[r.jsx(n.z,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Annuler"}),r.jsx(n.z,{type:"submit",children:N?"Modifier":"Cr\xe9er"})]})]})]})})]})}},4904:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});var r=t(8570);let i=(0,r.createProxy)(String.raw`/Users/mouss/Desktop/new/frontend/src/app/dashboard/clients/page.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let l=(0,r.createProxy)(String.raw`/Users/mouss/Desktop/new/frontend/src/app/dashboard/clients/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[819,284,530,806,428],()=>t(4456));module.exports=r})();